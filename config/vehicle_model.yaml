# Modello 3D del veicolo: Toyota Aygo X 2024
# Sistema di riferimento: centro ruote posteriori a livello suolo, asse con targa
# Dati da specifiche ufficiali Toyota e stime basate su proporzioni standard

vehicle:
  # Identificazione veicolo
  make: "Toyota"
  model: "Aygo X"
  year: 2024
  
  # Dimensioni totali in metri (da specifiche ufficiali Toyota)
  dimensions:
    length: 3.70      # 3700 mm - Lunghezza totale
    width: 1.74       # 1740 mm - Larghezza senza specchietti
    width_with_mirrors: 1.96  # ~1960 mm - Stima con specchietti
    height: 1.525     # 1525 mm - Altezza totale
    wheelbase: 2.43   # 2430 mm - Passo
    front_overhang: 0.73   # 730 mm - Sbalzo anteriore
    rear_overhang: 0.54    # 540 mm - Sbalzo posteriore
    ground_clearance: 0.132  # ~132 mm - Altezza da terra (11mm più del normale Aygo)

  # Sistema di riferimento
  reference_frame:
    origin: "centro asse ruote posteriori a livello suolo"
    description: "Asse X = avanti (positivo verso fronte), Y = sinistra (positivo), Z = altezza (positivo verso l'alto)"
    notes: "Origine a 0.54m dalla fine posteriore del veicolo (rear overhang)"
    
  # Coordinate 3D dei fari posteriori [x, y, z] in metri
  # Stimate in base alle proporzioni tipiche e foto del veicolo
  tail_lights:
    # Fari posizionati sul bordo posteriore, ai lati
    # X: sbalzo posteriore è 0.54m, fari circa a metà = -0.27m dall'origine
    # Y: distanza stimata dal centro basata su larghezza totale 1.74m
    # Z: altezza stimata a circa 1/3 dell'altezza totale del veicolo
    left: [-0.27, 0.70, 0.50]    # Faro posteriore sinistro
    right: [-0.27, -0.70, 0.50]   # Faro posteriore destro
    
    # Informazioni aggiuntive sui fari
    style: "LED verticali integrati nel paraurti"
    distance_between: 1.40  # Distanza orizzontale tra i fari (metri)
    
  # Coordinate 3D dei fari anteriori (opzionali per tracking frontale)
  front_lights:
    # X: lunghezza - sbalzo anteriore = 3.70 - 0.73 = 2.97m
    left: [2.97, 0.65, 0.65]     # Faro anteriore sinistro
    right: [2.97, -0.65, 0.65]    # Faro anteriore destro
    style: "LED con DRL"
  
  # Targa posteriore
  license_plate_rear:
    center: [0.0, 0.0, 0.40]    # Centro della targa posteriore
    width: 0.52                  # Larghezza targa standard EU (520mm)
    height: 0.11                 # Altezza targa standard EU (110mm)
    mounting: "centro portellone posteriore"

  # Targa posteriore - 4 ANGOLI 3D
  license_plate_rear_corners:
    # Dimensioni targa EU standard: 52cm x 11cm
    # Centro: [0.0, 0.0, 0.4]
    top_left: [0.0, 0.26, 0.455]      # TL
    top_right: [0.0, -0.26, 0.455]     # TR
    bottom_left: [0.0, 0.26, 0.345]    # BL
    bottom_right: [0.0, -0.26, 0.345]  # BR
    
  # Targa anteriore
  license_plate_front:
    center: [3.70, 0.0, 0.40]    # Centro della targa anteriore
    width: 0.52
    height: 0.11
    mounting: "centro paraurti anteriore"

  # Vertici bounding box 3D
  # Auto-generati in base alle dimensioni, ma puoi definirli manualmente
  bbox_vertices:
    auto_generate: true
    # Se false, definisci manualmente gli 8 vertici della bbox:
    # Ordine: 4 vertici base (z=0) + 4 vertici top (z=height)
    # Format: [x, y, z] per ciascun vertice
    manual_vertices:
      # Base (z=0, a livello suolo)
      bottom_rear_left: [0.0, 0.87, 0.0]
      bottom_rear_right: [0.0, -0.87, 0.0]
      bottom_front_left: [3.70, 0.87, 0.0]
      bottom_front_right: [3.70, -0.87, 0.0]
      # Top (z=height)
      top_rear_left: [0.0, 0.87, 1.525]
      top_rear_right: [0.0, -0.87, 1.525]
      top_front_left: [3.70, 0.87, 1.525]
      top_front_right: [3.70, -0.87, 1.525]

  # Informazioni aggiuntive sul veicolo (per reference)
  additional_info:
    segment: "A-segment / City SUV"
    doors: 5
    seats: 4
    curb_weight: 940  # kg (peso a vuoto minimo)
    fuel_tank: 35     # litri
    boot_capacity: 231  # litri (sedili su)
    turning_circle: 9.4  # metri
    drag_coefficient: 0.32
    
  # Punti di riferimento aggiuntivi (opzionali per tracking avanzato)
  additional_reference_points:
    # Specchietti retrovisori esterni
    left_mirror: [1.50, 0.98, 1.10]
    right_mirror: [1.50, -0.98, 1.10]
    
    # Angoli del tetto (per ricostruzione forma)
    roof_rear_left: [0.54, 0.70, 1.525]
    roof_rear_right: [0.54, -0.70, 1.525]
    roof_front_left: [2.50, 0.70, 1.525]
    roof_front_right: [2.50, -0.70, 1.525]
    
    # Centro geometrico del veicolo
    geometric_center: [1.85, 0.0, 0.76]
    
    # Baricentro stimato (più basso e spostato avanti)
    center_of_gravity: [1.75, 0.0, 0.50]

# Note di utilizzo:
# - Tutte le misure sono in METRI
# - Sistema di coordinate: origine al centro asse posteriore a suolo
# - X positivo = avanti, Y positivo = sinistra, Z positivo = su
# - Le coordinate dei fari sono STIME basate su proporzioni standard
# - Per massima precisione, misura fisicamente la posizione dei fari sul tuo veicolo
# - Le distanze tra i fari sono cruciali per la stima della posa 3D accurata
# - Verifica che le coordinate siano coerenti con il tuo sistema di riferimento